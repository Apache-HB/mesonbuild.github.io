<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Using Meson &#8212; Bob McBob 1.2.3 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.2.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="Bob McBob 1.2.3 documentation" href="index.html" />
    <link rel="next" title="Unity builds" href="unitybuilds.html" />
    <link rel="prev" title="The Meson Build System Documentation" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="using-meson">
<h1>Using Meson<a class="headerlink" href="#using-meson" title="Permalink to this headline">¶</a></h1>
<p>Meson has been designed to be as easy to use as possible. This page
outlines the basic use cases. For more advanced cases refer to Meson&#8217;s
command line help which is accessible with the command <code class="docutils literal"><span class="pre">meson</span>
<span class="pre">--help</span></code>.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>Meson has two main dependencies.</p>
<ul class="simple">
<li><a class="reference external" href="http://python.org">Python 3</a></li>
<li><a class="reference external" href="https://github.com/ninja-build/ninja/">Ninja</a></li>
</ul>
<p>Ninja is only needed if you use the Ninja backend. Meson can also
generate native VS and XCode project files.</p>
<p>On Ubuntu these can be easily installed with the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ sudo apt-get install python3 ninja-build
</pre></div>
</div>
<p>The best way to get Meson is to <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span></code> it for your user</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pip3 install --user meson
</pre></div>
</div>
<p>You can also use Meson as packaged by your distro, but beware that due
to our frequent release cycle and development speed this version might
be out of date.</p>
<p>Another option is to clone the git repository and run it directly from
there.</p>
</div>
<div class="section" id="compiling-a-meson-project">
<h2>Compiling a Meson project<a class="headerlink" href="#compiling-a-meson-project" title="Permalink to this headline">¶</a></h2>
<p>The most common use case of Meson is compiling code on a code base you
are working on. The steps to take are very simple.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /path/to/source/root
$ meson build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
$ ninja
$ ninja <span class="nb">test</span>
</pre></div>
</div>
<p>The only thing to note is that you need to create a separate build
directory. Meson will not allow you to build source code inside your
source tree. All build artifacts are stored in the build
directory. This allows you to have multiple build trees with different
configurations at the same time. This way generated files are not
added into revision control by accident.</p>
<p>To recompile after code changes, just type <code class="docutils literal"><span class="pre">ninja</span></code>. The build command
is always the same. You can do arbitrary changes to source code and
build system files and Meson will detect those and will do the right
thing. If you want to build optimized binaries, just use the argument
<code class="docutils literal"><span class="pre">--buildtype=debugoptimized</span></code> when running Meson. It is recommended
that you keep one build directory for unoptimized builds and one for
optimized ones. To compile any given configuration, just go into the
corresponding build directory and run <code class="docutils literal"><span class="pre">ninja</span></code>.</p>
<p>Meson will automatically add compiler flags to enable debug
information and compiler warnings (i.e. <code class="docutils literal"><span class="pre">-g</span></code> and <code class="docutils literal"><span class="pre">-Wall</span></code>). This
means the user does not have to deal with them and can instead focus
on coding.</p>
</div>
<div class="section" id="using-meson-as-a-distro-packager">
<h2>Using Meson as a distro packager<a class="headerlink" href="#using-meson-as-a-distro-packager" title="Permalink to this headline">¶</a></h2>
<p>Distro packagers usually want total control on the build flags
used. Meson supports this use case natively. The commands needed to
build and install Meson projects are the following.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /path/to/source/root
$ <span class="nv">CFLAGS</span><span class="o">=</span>... <span class="nv">CXXFLAGS</span><span class="o">=</span>... <span class="nv">LDFLAGS</span><span class="o">=</span>.. meson --prefix /usr --buildtype<span class="o">=</span>plain build
$ ninja -v -C build
$ ninja -C build <span class="nb">test</span>
$ <span class="nv">DESTDIR</span><span class="o">=</span>/path/to/staging/root ninja -C build install
</pre></div>
</div>
<p>The command line switch <code class="docutils literal"><span class="pre">--buildtype=plain</span></code> tells Meson not to add
its own flags to the command line. This gives the packager total
control on used flags.</p>
<p>This is very similar to other build systems. The only difference is
that the <code class="docutils literal"><span class="pre">DESTDIR</span></code> variable is passed as an environment variable
rather than as an argument to <code class="docutils literal"><span class="pre">ninja</span> <span class="pre">install</span></code>.</p>
<p>As distro builds happen always from scratch, we recommend you to
enable <a class="reference internal" href="unitybuilds.html"><span class="doc">unity builds</span></a> whenever possible on your packages
because they are faster and produce better code.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Using Meson</a><ul>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#compiling-a-meson-project">Compiling a Meson project</a></li>
<li><a class="reference internal" href="#using-meson-as-a-distro-packager">Using Meson as a distro packager</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">The Meson Build System Documentation</a></li>
      <li>Next: <a href="unitybuilds.html" title="next chapter">Unity builds</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/quickguide.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, You Know.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.8</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="_sources/quickguide.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>