fragment_downloaded_cb({"url": "Rewriter.html#page-description", "fragment": "Since version meson has the functionality to perform some basic modification on the meson.build files from the command line. The currently supported operations are \nThe rewriter has both a normal command line interface and a script mode The normal CLI is mostly designed for everyday use. The script mode on the other hand is meant to be used by external programs IDEs graphical frontends etc. \nThe rewriter itself is considered stable however the user interface and the script mode API might change in the future. These changes may also break backwards comaptibility to older releases. \nWe are also open to suggestions for API improvements. \nAll rewriter functions are accessed via meson rewrite. The meson rewriter assumes that it is run inside the project root directory. If this isn t the case use sourcedir to specify the actual project source directory. \nThe most common operations will probably be the adding and removing of source files to a build target. This can be easily done with \nFor instance given the following example \nthe source fileB.cpp can be added with \nAfter executing this command the new meson.build will look like this \nIn this case exe1 could also have been used for the target name. This is possible because the rewriter also searches for assignments and unique meson IDs which can be acquired with introspection. If there are multiple targets with the same name meson will do nothing and print an error message. \nFor more information see the help output of the rewriter target command. \nIt is also possible to set kwargs of specific functions with the rewriter. The general command for setting or removing kwargs is \nFor instance setting the project version can be achieved with this command \nCurrently only the following function types are supported \nFor more information see the help output of the rewriter kwargs command. \nFor setting and deleting default options use the following command \nRewriting a meson file is not guranteed to keep the indentation of the modified functions. Additionally comments inside a modified statement will be removed. Furthermore all source files will be sorted alphabetically. \nFor instance adding e.c to srcs in the following code \nwould result in the following code \nThe script mode should be the preferred API for third party programs since it offers more flexibility and higher API stability. The scripts are stored in JSON format and executed with meson rewrite command JSON file or string \nThe JSON format is defined as follows \nEach object in the main array must have a type entry which specifies which function should be executed. \nCurrently the following functions are supported \nThe format for the type target is defined as follows \nThe keys sources subdir and target_type are optional. \nThe format for the type target is defined as follows \nThe format for the type default_options is defined as follows \nFor operation delete the values of the options can be anything including null \nThe rewriter also offers operation info for the types target and kwargs. When this operation is used meson will print a JSON dump to stderr containing all available information to the rewriter about the build target function kwargs in question. \nThe output format is currently experimental and may change in the future. \n"});